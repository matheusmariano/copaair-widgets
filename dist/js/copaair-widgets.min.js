!function e(t,n,o){function i(s,r){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!r&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){(function(e){(function(e,t,n,o,i){"use strict";!function(t){function n(){try{return r in t&&t[r]}catch(e){return!1}}var i,a={},s=t.document,r="localStorage",u="script";if(a.disabled=!1,a.version="1.3.17",a.set=function(e,t){},a.get=function(e,t){},a.has=function(e){return void 0!==a.get(e)},a.remove=function(e){},a.clear=function(){},a.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var o=a.get(e,t);n(o),a.set(e,o)},a.getAll=function(){},a.forEach=function(){},a.serialize=function(e){return JSON.stringify(e)},a.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},n())i=t[r],a.set=function(e,t){return void 0===t?a.remove(e):(i.setItem(e,a.serialize(t)),t)},a.get=function(e,t){var n=a.deserialize(i.getItem(e));return void 0===n?t:n},a.remove=function(e){i.removeItem(e)},a.clear=function(){i.clear()},a.getAll=function(){var e={};return a.forEach(function(t,n){e[t]=n}),e},a.forEach=function(e){for(var t=0;t<i.length;t++){var n=i.key(t);e(n,a.get(n))}};else if(s.documentElement.addBehavior){var l,c,d,f;!function(){var e=function(e){return e.replace(/^d/,"___$&").replace(f,"___")};try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+u+">document.w=window</"+u+'><iframe src="/favicon.ico"></iframe>'),c.close(),l=c.w.frames[0].document,i=l.createElement("div")}catch(t){i=s.createElement("div"),l=s.body}d=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),l.appendChild(i),i.addBehavior("#default#userData"),i.load(r);var n=e.apply(a,t);return l.removeChild(i),n}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),a.set=d(function(t,n,o){return n=e(n),void 0===o?a.remove(n):(t.setAttribute(n,a.serialize(o)),t.save(r),o)}),a.get=d(function(t,n,o){n=e(n);var i=a.deserialize(t.getAttribute(n));return void 0===i?o:i}),a.remove=d(function(t,n){n=e(n),t.removeAttribute(n),t.save(r)}),a.clear=d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n,o=0;n=t[o];o++)e.removeAttribute(n.name);e.save(r)}),a.getAll=function(e){var t={};return a.forEach(function(e,n){t[e]=n}),t},a.forEach=d(function(e,t){for(var n,o=e.XMLDocument.documentElement.attributes,i=0;n=o[i];++i)t(n.name,a.deserialize(e.getAttribute(n.name)))})}()}try{var p="__storejs__";a.set(p,p),a.get(p)!=p&&(a.disabled=!0),a.remove(p)}catch(h){a.disabled=!0}a.enabled=!a.disabled,"undefined"!=typeof e&&e.exports&&this.module!==e?e.exports=a:"function"==typeof o&&o.amd?o(a):t.store=a}(Function("return this")()),i("undefined"!=typeof store?store:window.store)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){t.exports={es:{form:{origin:"Desde",selectCity:"Selecciona una ciudad",destination:"Hacia",departure:"Salida","return":"Regreso",economic:"Clase Económica",business:"Clase Ejecutiva",promo:"Código promocional",submit:"Ver Vuelos",adults:"Adultos",children:"Niños",infants:"Infantes"},messages:{notification:"Por favor completa todos los campos.",error:"Por favor completa todos los campos."}},en:{form:{origin:"From",selectCity:"Select your city",destination:"To",departure:"Departure","return":"Return",economic:"Economy Class",business:"Business Class",promo:"Promotional code",submit:"Find flights",adults:"Adults",children:"Children",infants:"Infants"},messages:{notification:"Please complete all the ...",error:"Please complete all the ..."}},pt:{form:{origin:"De",selectCity:"Selecione sua cidade",destination:"Para",departure:"Saída","return":"Regresso",economic:"Classe econômica",business:"Classe Executiva",promo:"Código promocional",submit:"Buscar voos",adults:"Adultos",children:"Crianças",infants:"Bebês"},messages:{notification:"Por favor completa todos los campos.",error:"Por favor completa todos los campos."}}}},{}],3:[function(e,t,n){t.exports={es:{regional:{closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","miércoles','jueves","viernes","sábado"],dayNamesShort:["dom","lun","mar","mié","juv","vie","sáb"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},buttons:{close:"Cerrar",reset:"Reiniciar"}},en:{regional:{},buttons:{close:"Close",reset:"Reset"}},pt:{regional:{closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Próximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira','Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},buttons:{close:"Fechar",reset:"Reiniciar"}}}},{}],4:[function(e,t,n){t.exports={es:{form:{fname:"Nombre",lname:"Apellido",email:"Email",country:"País",city:"Ciudad",phone:"Móvil",subscribe:"Suscribir",birthday:"Fecha de nacimiento"}},en:{form:{fname:"Name",lname:"Last Name",email:"Email",country:"Country",city:"City",phone:"Mobile",subscribe:"Subscribe",birthday:"Date of birth"}},pt:{form:{fname:"Nome",lname:"Sobrenome",email:"E-mail",country:"País",city:"Cidade",phone:"Celular",subscribe:"Cadastre-se",birthday:"Data de nascimento"}}}},{}],5:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=e("./widgets/Booking"),a=o(i),s=e("./widgets/Signup"),r=o(s);!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof n?"undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null:jQuery)}(function(e){e.fn.copaairBooking=function(t){return this.each(function(){e.data(this,"plugin_copaairBooking")||e.data(this,"plugin_copaairBooking",new a["default"](this,t))})},e.fn.copaairSignup=function(t){return this.each(function(){e.data(this,"plugin_copaairSignup")||e.data(this,"plugin_copaairSignup",new r["default"](this,t))})},e.fn.serializeObject=function(){var t={},n=this.serializeArray();return e.each(n,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./widgets/Booking":12,"./widgets/Signup":13}],6:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,r=o(s),u=e("./FlightControl"),l=o(u),c=function(){function e(t){i(this,e);var n={delay:0,lang:"es",minLength:0,originSelected:!1,destinationSelected:!1};this.options=r["default"].extend({},n,t)}return a(e,[{key:"start",value:function(e){var t=this,n=new l["default"]({lang:this.options.lang});n.fetch("destinations",function(n){t.options.source=t.format(n.list),"function"==typeof e&&e()})}},{key:"render",value:function(e){var t=(0,r["default"])(e).hide(),n=t.attr("class"),o=t.val(),i=t.attr("placeholder"),a=t.data("input-field"),s=(0,r["default"])("<input />").val(o).attr("type","text").attr("placeholder",i).attr("data-input-field",a);if(s.autocomplete(this.options),s.on("focus",function(){0===s.val().length&&s.autocomplete("search")}),s.addClass(n).addClass("ui-widget  ui-widget-content  ui-state-default"),s.insertAfter(t),s.autocomplete("instance")._renderItem=function(e,t){return(0,r["default"])("<li>").append(t.label).appendTo(e)},r["default"].ui.autocomplete.filter=function(e,t){var n=new RegExp("\\b"+r["default"].ui.autocomplete.escapeRegex(t),"i");return r["default"].grep(e,function(e){return n.test(e.label||e.value||e)})},this.options.destinationSelected&&"destination"===a){s.autocomplete("search",this.options.destinationSelected);var u=s.autocomplete("widget");(0,r["default"])(u[0].children[0]).click()}if(this.options.originSelected&&"origin"===a){s.autocomplete("search",this.options.originSelected);var l=s.autocomplete("widget");(0,r["default"])(l[0].children[0]).click()}return this}},{key:"format",value:function(e){var t=this,n=[];return r["default"].each(e,function(e,o){var i="<b>"+o.name[t.options.lang]+", "+o.country+'</b>\n        <span class="code"> | '+o.id+"</span>",a=o.id,s=o.name[t.options.lang]+", "+o.id;n.push({label:i,value:a,display:s})}),n}}]),e}();n["default"]=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./FlightControl":9}],7:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,r=o(s),u=e("./FlightControl"),l=o(u),c={lang:"es",data:null,contentType:"countries",callback:function(){}},d=function(){function e(t){i(this,e),this.options=r["default"].extend({},c,t),this._defaults=c,this.setup()}return a(e,[{key:"setup",value:function(e){var t=this;if(this.options.data)this.options.source=this.format(this.options.data),this.render(!0);else{var n=new l["default"]({lang:this.options.lang});n.fetch(this.options.contentType,function(n){t.options.source=t.format(n.list),t.render(),"function"==typeof e&&e()})}}},{key:"render",value:function(e){var t=this;e&&(0,r["default"])(this.options.selector).find("option").slice(1).remove(),r["default"].each(this.options.source,function(e,n){(0,r["default"])(t.options.selector).append(n.display)})}},{key:"format",value:function(e){var t=this,n=[];return r["default"].each(e,function(e,o){var i='<option value="'+o.id+'">'+o.name[t.options.lang]+"</option>";n.push({display:i})}),n}}]),e}();n["default"]=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./FlightControl":9}],8:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,u=o(r),l=e("../../../lang/datepicker.json"),c=o(l),d={departureSelector:".copaair-booking-datepicker-departure",returnSelector:".copaair-booking-datepicker-return",datepickerSelector:".js-copaair-booking-datepicker-container",showButtonPanel:!0,numberOfMonths:2,selectMultiple:!0,numSelectable:2,dateRules:{today:new Date,weekLater:new Date((new Date).getTime()+6048e5)},lang:"es",position:"top"},f=function(){function e(t){a(this,e),this.current=null,this.options=u["default"].extend({},d,t),this.defaults=d,this.options.departureSelector=this.options.booking.find(".copaair-booking-datepicker-departure"),this.options.returnSelector=this.options.booking.find(".copaair-booking-datepicker-return"),this.options.datepickerSelector=this.options.booking.find(".js-copaair-booking-datepicker-container")}return s(e,[{key:"render",value:function(){this.setLocale(),this.init(),this.setBeforeShowDaySettings(),this.setDateRanges(),this.mqMobile=window.matchMedia("(max-width: 720px)"),this.setSize(this.mqMobile),this.mqMobile.addListener(this.setSize),this.events(),this.setPosition()}},{key:"init",value:function(){var e=this.options.datepickerSelector;e.datepicker(this.options),e.datepicker("option","minDate",0),e.hide()}},{key:"setSize",value:function(e){var t=(0,u["default"])(".js-copaair-booking-datepicker-container");e.matches?t.datepicker("option","numberOfMonths",1):t.datepicker("option","numberOfMonths",2)}},{key:"setPosition",value:function(){var e=(0,u["default"])(this.options.datepickerSelector),t=((0,u["default"])(this.options.departureSelector),e.datepicker("widget"),0);t=this.mqMobile.matches?2*(0,u["default"])(".copaair-booking-datepicker-position").height()+10:(0,u["default"])(".copaair-booking-datepicker-position").height()+15;var n={top:"bottom",bottom:"top"};e.css(i({},n[this.options.position],t))}},{key:"setBeforeShowDaySettings",value:function(){var e=this.options.datepickerSelector,t=this.options.departureSelector,n=this.options.returnSelector;e.datepicker("option","beforeShowDay",function(e){var o=u["default"].datepicker.parseDate(u["default"].datepicker._defaults.dateFormat,t.val()),i=u["default"].datepicker.parseDate(u["default"].datepicker._defaults.dateFormat,n.val());return[!0,o&&(e.getTime()==o.getTime()||i&&e>=o&&e<=i)?"dp-highlight":""]})}},{key:"setDateRanges",value:function(){var e=(0,u["default"])(this.options.datepickerSelector),t=(0,u["default"])(this.options.departureSelector),n=(0,u["default"])(this.options.returnSelector),o=this;e.datepicker("option","onSelect",function(e,i){(0,u["default"])(o.current).val(e);var a=u["default"].datepicker.parseDate(u["default"].datepicker._defaults.dateFormat,t.val()),s=u["default"].datepicker.parseDate(u["default"].datepicker._defaults.dateFormat,n.val());n[0]!==o.current&&""===n.val()?n.click().focus():t[0]!==o.current&&""===t.val()&&t.click().focus(),a&&o.setDates(a,!0),s&&(o.setDates(s,!1),o.mqMobile.matches&&(0,u["default"])("html, body").animate({scrollTop:n.offset().top},1e3)),s&&s<a&&(t.val(e),n.val("")),o.renderCloseButton(),o.renderResetButton()})}},{key:"setDates",value:function(e,t){t?(this.options.formHelper.options.inputs["outboundOption.departureDay"]=e.getUTCDate(),this.options.formHelper.options.inputs["outboundOption.departureMonth"]=e.getMonth()+1,this.options.formHelper.options.inputs["outboundOption.departureYear"]=e.getFullYear()):(this.options.formHelper.options.inputs["inboundOption.departureDay"]=e.getUTCDate(),this.options.formHelper.options.inputs["inboundOption.departureMonth"]=e.getMonth()+1,this.options.formHelper.options.inputs["inboundOption.departureYear"]=e.getFullYear())}},{key:"events",value:function(){var e=this,t=(0,u["default"])(this.options.datepickerSelector),n=(0,u["default"])(this.options.departureSelector),o=(0,u["default"])(this.options.returnSelector);u["default"].datepicker.parseDate(u["default"].datepicker._defaults.dateFormat,n.val());n.on("focus",function(n){e.current=n.target,t.show(),e.mqMobile.matches&&(0,u["default"])("html, body").animate({scrollTop:t.offset().top},1e3)}),o.on("focus",function(n){e.current=n.target,t.show(),e.mqMobile.matches&&(0,u["default"])("html, body").animate({scrollTop:t.offset().top},1e3)})}},{key:"renderResetButton",value:function(){var e=(0,u["default"])(this.options.datepickerSelector),t=(0,u["default"])(this.options.departureSelector),n=(0,u["default"])(this.options.returnSelector),o=c["default"][this.options.lang].buttons.reset,i=this;setTimeout(function(){var a=e.find(".ui-datepicker-buttonpane");(0,u["default"])("<button>",{type:"button",text:o,click:function(){t.val(""),n.val(""),i.reset(e)}}).appendTo(a).addClass("ui-datepicker-reset ui-state-default ui-priority-secondary ui-corner-all")},1)}},{key:"renderCloseButton",value:function(){var e=(0,u["default"])(this.options.datepickerSelector),t=c["default"][this.options.lang].buttons.close;setTimeout(function(){var n=e.find(".ui-datepicker-buttonpane");(0,u["default"])("<button>",{type:"button",text:t,click:function(){e.hide()}}).appendTo(n).addClass("ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all")},1)}},{key:"reset",value:function(e){e.datepicker("setDate",null)}},{key:"setLocale",value:function(){var e=c["default"][this.options.lang].regional;u["default"].datepicker.setDefaults(e)}}]),e}();n["default"]=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lang/datepicker.json":3}],9:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,r=o(s);e("store-js");var u={lang:"es",api:{destinations:"http://localhost:8000/api/routes/destinations",countries:"http://localhost:8000/api/routes/countries",regions:"http://localhost:8000/api/routes/regions"},storageExpiration:864e5,storage:!0},l={set:function(e,t,n){store.set(e,{val:t,exp:n,time:(new Date).getTime()})},get:function(e){var t=store.get(e);return t?(new Date).getTime()-t.time>t.exp?null:t.val:null}},c=function(){function e(t){i(this,e),this.options=r["default"].extend({},u,t),this._defaults=u,store.enabled||(console.log("browser not supported or in private mode"),this.options.storage=!1)}return a(e,[{key:"fetch",value:function(e,t){var n=this,o={};if(this.options.storage&&l.get(e)&&l.get(e+".count"))return o.list=l.get(e),o.count=l.get(e+".count"),t(o);if("undefined"!=typeof IE9Data){var i=IE9Data[e];this.sortNames(i),this.options.storage&&(l.set(e,i,this.options.storageExpiration),l.set(e+".count",i.length,this.options.storageExpiration)),o.list=i,o.count=i.length,t(o)}else r["default"].getJSON(this.options.api[e],function(i){n.sortNames(i),n.options.storage&&(l.set(e,i,n.options.storageExpiration),l.set(e+".count",i.length,n.options.storageExpiration)),o.list=i,o.count=i.length,t(o)})}},{key:"sortNames",value:function(e){var t=this;e.sort(function(e,n){return e.name[t.options.lang]>n.name[t.options.lang]?1:e.name[t.options.lang]<n.name[t.options.lang]?-1:0})}}]),e}();n["default"]=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"store-js":1}],10:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null,s=t(a),r=window.ga,u={lang:"es",origin:"all",destination:"all",d1:null,bookingPage:"Booking Engine",analytics:!1,inputs:{tripType:"RT",flexibleSearch:!0,pos:"CMGS","guestTypes[0].type":"ADT","guestTypes[1].type":"CNN","guestTypes[2].type":"INF","guestTypes[0].amount":1,"guestTypes[1].amount":0,"guestTypes[2].amount":0,"outboundOption.departureDay":null,"outboundOption.departureMonth":null,"outboundOption.departureYear":null,"inboundOption.departureDay":null,"inboundOption.departureMonth":null,"inboundOption.departureYear":null,"outboundOption.originLocationCode":null,"inboundOption.destinationLocationCode":null,"outboundOption.destinationLocationCode":null,"inboundOption.originLocationCode":null,cabinClass:"Economy",lang:"es"},formUrl:"https://bookings.copaair.com/CMGS/AirLowFareSearchExternal.do?"},l=function(){function e(t){o(this,e),this.options=s["default"].extend({},u,t),this._defaults=u,this.setDefaultBounds(),this.options.inputs.lang=this.options.lang,this.events()}return i(e,[{key:"process",value:function(){var e=this.options.formUrl,t=this.validationError(),n=this.options.booking.data("coupon");n&&!this.options.inputs.coupon&&this.setCoupon(n);var o=s["default"].param(this.options.inputs);if(o+="&"+s["default"].param({d1:this.options.d1}),t.error)this.options.analytics&&"undefined"!=typeof r&&r("send","event",this.options.bookingPage,"error","User left required fields blank");else{this.options.analytics&&"undefined"!=typeof r&&r("send","event",this.options.bookingPage,"click","Search flights");var i=window.open(e+o,"_blank");i.focus()}}},{key:"setDefaultBounds",value:function(){"all"!==this.options.origin&&this.setBounds("origin",this.options.origin),"all"!==this.options.destination&&this.setBounds("destination",this.options.destination)}},{key:"setBounds",value:function(e,t){"origin"===e&&(this.options.inputs["outboundOption.originLocationCode"]=t,this.options.inputs["inboundOption.destinationLocationCode"]=t),"destination"===e&&(this.options.inputs["outboundOption.destinationLocationCode"]=t,this.options.inputs["inboundOption.originLocationCode"]=t)}},{key:"setCabinClass",value:function(e){this.options.inputs.cabinClass=(0,s["default"])(e).val()}},{key:"setPassengersAmount",value:function(e,t){switch(e){case"child":this.options.inputs["guestTypes[1].amount"]=t;break;case"infant":this.options.inputs["guestTypes[2].amount"]=t;break;default:this.options.inputs["guestTypes[0].amount"]=t}}},{key:"setCoupon",value:function(e){this.options.inputs.coupon=e}},{key:"setD1",value:function(){this.options.inputs.d1=this.options.d1}},{key:"validationError",value:function(){var e={error:!1,bag:[]};console.log(this.options.inputs);for(var t in this.options.inputs)if(!this.options.inputs[t]&&0!==this.options.inputs[t]){var n={};n.field=t,n.message="The input "+t+" must have some value",e.bag.push(n),e.error=!0}return e}},{key:"events",value:function(){var e=this;this.options.booking.find(".js-cabin-class").on("click",function(t){e.setCabinClass(t.target)}),this.options.booking.find(".js-adults-amount").selectmenu({change:function(t,n){e.setPassengersAmount("adult",n.item.value)}}),this.options.booking.find(".js-children-amount").selectmenu({change:function(t,n){e.setPassengersAmount("child",n.item.value)}}),this.options.booking.find(".js-infants-amount").selectmenu({change:function(t,n){e.setPassengersAmount("infant",n.item.value)}}),this.options.booking.find(".js-coupon-code-input").on("change",function(t){e.setCoupon(t.target.value)}),this.options.booking.find(".js-submit").on("click",function(t){t.preventDefault(),e.process()})}}]),e}();n["default"]=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,r=o(s),u="undefined"!=typeof window?window.Handlebars:"undefined"!=typeof t?t.Handlebars:null,l=o(u),c=e("../../../lang/booking.json"),d=o(c),f=e("../../../lang/signup.json"),p=o(f),h=[];h.booking=d["default"],h.signup=p["default"],window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname,window.location.origin+=window.location.port?":"+window.location.port:"");var g={lang:"es",src:window.location.origin+"/bower_components/copaair-widgets/templates",callback:function(){}},m=function(){function e(t,n){var o=this;i(this,e),this.options=r["default"].extend({},g,n),"undefined"!=typeof l["default"]&&null!==l["default"]?r["default"].ajax({url:this.options.src+"/"+t+".hbs",success:function(e){o.options.data=r["default"].extend({},o.options,h[t][o.options.lang]);var n=o.compile(t,e);o.options.callback(n)}}):console.error("This plugin requires Handlebars.js")}return a(e,[{key:"compile",value:function(e,t){var n=l["default"].compile(t),o=n(this.options.data);return o}}]),e}();n["default"]=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lang/booking.json":2,"../../../lang/signup.json":4}],12:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,r=o(s),u=e("../lib/Template"),l=o(u),c=e("../lib/Datepicker"),d=o(c),f=e("../lib/Autocomplete"),p=o(f),h=e("../lib/FormHelper"),g=o(h),m={lang:"es",d1:null,bookingPage:null,coupon:null,origin:null,destination:null,destinationName:null,originName:null,analytics:!1,collapsable:!0,nativeSelect:!1,widgetPosition:{my:"left bottom",at:"left top"},datepickerPosition:"top",templatePath:"/bower_components/copaair-widgets/templates",languagePath:"/bower_components/copaair-widgets/lang/",originSelected:!1,destinationSelected:!1,isMobile:!1,onload:function(){}},b=function(){function e(t,n){var o=this;return i(this,e),this.$booking=(0,r["default"])(t),this.options=r["default"].extend({},m,n),this._defaults=m,new l["default"]("booking",{lang:this.options.lang,origin:this.options.origin,destination:this.options.destination,destinationName:this.options.destinationName,originName:this.options.originName,src:this.options.templatePath,callback:function(e){o.$booking.html(e),o.setupSelectMenus();var t=new g["default"]({datepicker:n,origin:o.options.origin,destination:o.options.destination,booking:o.$booking,d1:o.options.d1,lang:o.options.lang,analytics:o.options.analytics,bookingPage:o.options.bookingPage}),n=new d["default"]({lang:o.options.lang,position:o.options.datepickerPosition,booking:o.$booking,formHelper:t,isMobile:o.options.isMobile});n.render(),o.options.coupon&&t.setCoupon(o.options.coupon),o.initAutocomplete(t),o.bookingEvents(),o.options.onload()}})}return a(e,[{key:"initAutocomplete",value:function(e){var t=this,n=new p["default"]({lang:this.options.lang,originSelected:this.options.originSelected,destinationSelected:this.options.destinationSelected,select:function(t,n){t.preventDefault(),t.stopPropagation(),(0,r["default"])(this).val(n.item.display),e.setBounds((0,r["default"])(this).data("input-field"),n.item.value)},position:this.options.widgetPosition,appendTo:this.$booking});n.start(function(){t.$booking.find(".js-booking-autocomplete").each(function(){n.render(this)})})}},{key:"setupSelectMenus",value:function(){return this.options.nativeSelect||this.$booking.find(".js-selectmenu").selectmenu({position:this.options.widgetPosition}),this}},{key:"bookingEvents",value:function(){var e=this.$booking,t=this.$booking.find(".js-copaair-toggle");this.options.collapsable?(e.on("focus.copaair","input",function(){e.addClass("copaair-widget-open"),t.removeClass("copaair-hidden")}),e.on("click.copaair",".js-copaair-close",function(n){n.preventDefault(),e.removeClass("copaair-widget-open"),t.addClass("copaair-hidden")})):t.removeClass("copaair-hidden")}}]),e}();n["default"]=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/Autocomplete":6,"../lib/Datepicker":8,"../lib/FormHelper":10,"../lib/Template":11}],13:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,r=o(s),u=e("../lib/Template"),l=o(u),c=e("../lib/DataMenu"),d=o(c);e("store-js");var f=window.ga,p={lang:"es",nativeSelect:!1,widgetPosition:{my:"left bottom",at:"left top"}},h=function(){function e(t,n){var o=this;return i(this,e),this.$form=(0,r["default"])(t),this.options=r["default"].extend({},p,n),new l["default"]("signup",{lang:this.options.lang,callback:function(e){o.$form.html(e),o.signupEvents();var t=o.options.lang;o.$form.find(".js-selectmenu").each(function(){return new d["default"]({lang:t,contentType:(0,r["default"])(this).data("content"),selector:(0,r["default"])(this)})}),o.setupSelectMenus(),(0,r["default"])(".js-signup-date").datepicker({changeMonth:!0,changeYear:!0,format:"dd/mm/yy",yearRange:"-100:+0",beforeShow:function(e,t){setTimeout(function(){t.dpDiv.position({my:"left bottom",at:"left top",of:e})},0)}})}})}return a(e,[{key:"setupSelectMenus",value:function(){return this.options.nativeSelect||this.$form.find(".js-selectmenu").selectmenu({position:this.options.widgetPosition}),this}},{key:"signupEvents",value:function(){var e=this,t=this.$form,n=this.$form.find(".js-copaair-toggle");t.on("focus.copaair","input",function(){t.addClass("copaair-widget-open"),n.removeClass("copaair-hidden")}),t.on("submit",function(t){t.preventDefault(),e.submitForm(t.target)}),(0,r["default"])(".js-country-selector").selectmenu({change:function(e,t){this.options.country=t.item.value;var n=store.get("destinations"),o=[];for(var i in n.val)n.val[i].country===this.options.country&&o.push(n.val[i]);return(0,r["default"])(".js-city-selector").selectmenu("refresh"),new d["default"]({lang:this.options.lang,data:o,selector:(0,r["default"])(".js-city-selector")})}}),(0,r["default"])(".js-city-selector").selectmenu({change:function(e,t){this.options.city=t.item.value}})}},{key:"submitForm",value:function(e){var t=(0,r["default"])(e),n=t.serializeObject();n.fullname=n.first_name+" "+n.last_name,n.source=this.options.source,n.language=this.options.lang.toUpperCase(),n.city=this.options.city,n.country=this.options.country;var o=this.options.container;r["default"].ajax({data:n,type:"POST",url:"http://localhost:8000/api/signup/add"
}).done(function(){o.fadeOut(),"undefined"!=typeof f&&f("send","event","Subscription Form","subscribed","User was subscribed")})}}]),e}();n["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/DataMenu":7,"../lib/Template":11,"store-js":1}]},{},[5]);
//# sourceMappingURL=copaair-widgets.min.js.map
